document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("cep");let o=!1;if(!n)return;n.addEventListener("input",function(e){if(o=!0,!n.hasAttribute("data-mask")){let t=e.target.value.replace(/\D/g,"");t=t.replace(/(\d{5})(\d{3})/,"$1-$2"),e.target.value=t}}),n.addEventListener("blur",function(){if(!o)return;const e=n.value;o=!1,e.length===9&&(s(),fetch(`https://viacep.com.br/ws/${e}/json/`).then(t=>t.json()).then(t=>{if(d(),t.erro){c("CEP nÃ£o encontrado"),r("");return}r(t)}).catch(t=>{d(),c("Erro ao buscar CEP"),r(""),console.error("Erro:",t)}))});function r(e){const t={logradouro:e.logradouro||"",bairro:e.bairro||"",cidade:e.localidade||"",estado:e.uf||""};Object.keys(t).forEach(i=>{const l=document.getElementById(i);l&&(l.value=t[i],l.readOnly=!1)})}function s(){const e=document.getElementById("cep-loading");e&&(e.style.display="block")}function d(){const e=document.getElementById("cep-loading");e&&(e.style.display="none")}function c(e){const t=document.getElementById("cep-error");t&&(t.textContent=e,t.style.display="block",setTimeout(()=>{t.style.display="none"},3e3))}});
