document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("cep");let t=!1;if(!o)return;o.addEventListener("input",function(e){t=!0}),o.addEventListener("blur",function(){if(!t)return;const e=o.value;if(t=!1,e.length!==9){console.log("não 9");return}s(),fetch(`https://viacep.com.br/ws/${e}/json/`).then(n=>n.json()).then(n=>{if(c(),n.erro){d("CEP não encontrado"),r("");return}r(n)}).catch(n=>{c(),d("Erro ao buscar CEP"),r(""),console.error("Erro:",n)})});function r(e){const n={logradouro:e.logradouro||"",bairro:e.bairro||"",cidade:e.localidade||"",estado:e.uf||""};Object.keys(n).forEach(i=>{const l=document.getElementById(i);l&&(l.value=n[i],l.readOnly=!1)})}function s(){const e=document.getElementById("cep-loading");e&&(e.style.display="block")}function c(){const e=document.getElementById("cep-loading");e&&(e.style.display="none")}function d(e){const n=document.getElementById("cep-error");n&&(n.textContent=e,n.style.display="block",setTimeout(()=>{n.style.display="none"},3e3))}});
